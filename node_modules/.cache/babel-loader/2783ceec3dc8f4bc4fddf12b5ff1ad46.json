{"ast":null,"code":"var _jsxFileName = \"/home/qa/Desktop/Cloud/week4/Final_Project/src/components/TicketTemplate.jsx\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport axios from 'axios';\n\nconst TicketTemplate = props => {\n  const history = useHistory();\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  let solution;\n\n  if (props.data.status === false) {\n    solution = \"Unsolved\";\n  } else if (props.data.status === true) {\n    solution = \"Solved\";\n  }\n\n  const handleEditClick = click => {\n    let data = props.data;\n    let user = props.user;\n    click.preventDefault();\n    history.push({\n      pathname: \"/edit-ticket\",\n      state: {\n        data: data,\n        userInfo: user\n      }\n    });\n  };\n\n  const handleSolution = click => {\n    let data = props.data;\n    let user = props.user;\n    click.preventDefault();\n    history.push({\n      pathname: \"/edit-solution\",\n      state: {\n        data: data,\n        userInfo: user\n      }\n    });\n  };\n\n  const deleteTicket = () => {\n    let data = props.data;\n    console.log(data);\n    axios.delete(`http://localhost:8080/deleteTicket/${data.ticketId}`).then(function (response) {\n      console.log(response);\n      history.go(0);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  const formatTime = time => {\n    let timestamp = time;\n    timestamp = setCharAt(timestamp, 4, '/');\n    timestamp = setCharAt(timestamp, 7, '/');\n    timestamp = setCharAt(timestamp, 10, ' ');\n    timestamp = setCharAt(timestamp, 19, ' ');\n    timestamp = setCharAt(timestamp, 20, ' ');\n    timestamp = setCharAt(timestamp, 21, ' ');\n    timestamp = setCharAt(timestamp, 22, ' ');\n    timestamp = setCharAt(timestamp, 23, ' ');\n    timestamp = setCharAt(timestamp, 24, ' ');\n    timestamp = setCharAt(timestamp, 25, ' ');\n    return timestamp;\n  };\n\n  function setCharAt(str, index, chr) {\n    if (index > str.length - 1) return str;\n    return str.substring(0, index) + chr + str.substring(index + 1);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card, {\n    border: \"primary\",\n    style: {\n      width: '25rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, \"Title: \", props.data.title), /*#__PURE__*/React.createElement(Card.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, \"Description: \", props.data.description), /*#__PURE__*/React.createElement(Card.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, \"Topic: \", props.data.topic), /*#__PURE__*/React.createElement(Card.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, \"Solved: \", solution), /*#__PURE__*/React.createElement(Card.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, \"Date and Time: \", formatTime(props.data.localDateTime)), props.data.status === true ? /*#__PURE__*/React.createElement(Card.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 51\n    }\n  }, \"Solution: \", props.data.solution) : \"\"), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, props.data.status === false ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleEditClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 54\n    }\n  }, \"Edit\"), \"  \") : \"\", props.data.status === false ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleSolution,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 54\n    }\n  }, \"Add Solution\"), \"  \") : \"\", /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleShow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, \"Delete\"))), /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, \"Are you sure you want to delete this ticket?\"), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: deleteTicket,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, \"Delete\"))));\n};\n\nexport default TicketTemplate;","map":{"version":3,"sources":["/home/qa/Desktop/Cloud/week4/Final_Project/src/components/TicketTemplate.jsx"],"names":["React","useState","useHistory","Card","Button","Modal","axios","TicketTemplate","props","history","show","setShow","handleClose","handleShow","solution","data","status","handleEditClick","click","user","preventDefault","push","pathname","state","userInfo","handleSolution","deleteTicket","console","log","delete","ticketId","then","response","go","catch","error","formatTime","time","timestamp","setCharAt","str","index","chr","length","substring","width","title","description","topic","localDateTime"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport axios from 'axios';\n\nconst TicketTemplate = (props) => {\n    const history = useHistory();\n    const [show, setShow] = useState(false);\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n    let solution;\n\n    if(props.data.status === false) {\n        solution = \"Unsolved\";\n    } else if(props.data.status === true) {\n        solution = \"Solved\";\n    }\n\n    const handleEditClick = (click) => {\n        let data = props.data;\n        let user = props.user;\n        click.preventDefault();\n        history.push({\n            pathname: \"/edit-ticket\",\n            state:{\n                data:data,\n                userInfo:user\n            }\n        }); \n    }\n\n    const handleSolution = (click) => {\n        let data = props.data;\n        let user = props.user;\n        click.preventDefault();\n        history.push({\n            pathname: \"/edit-solution\",\n            state:{\n                data:data,\n                userInfo:user\n            }\n        })\n    }\n\n    const deleteTicket = () => {\n        let data = props.data;\n        console.log(data);\n        axios.delete(`http://localhost:8080/deleteTicket/${data.ticketId}`)\n        .then(function (response) {\n            console.log(response);\n            history.go(0);\n        })\n        .catch(function (error) {\n            console.log(error);\n        });\n    }\n\n    const formatTime = (time) => {\n        let timestamp = time;\n        timestamp = setCharAt(timestamp, 4, '/');\n        timestamp = setCharAt(timestamp, 7, '/');\n        timestamp = setCharAt(timestamp, 10, ' ');\n        timestamp = setCharAt(timestamp, 19, ' ');\n        timestamp = setCharAt(timestamp, 20, ' ');\n        timestamp = setCharAt(timestamp, 21, ' ');\n        timestamp = setCharAt(timestamp, 22, ' ');\n        timestamp = setCharAt(timestamp, 23, ' ');\n        timestamp = setCharAt(timestamp, 24, ' ');\n        timestamp = setCharAt(timestamp, 25, ' ');\n        return timestamp;\n    }\n\n    function setCharAt(str,index,chr) {\n        if(index > str.length-1) return str;\n        return str.substring(0,index) + chr + str.substring(index+1);\n    }\n\n    return (\n        <>\n            <Card border=\"primary\" style={{ width: '25rem' }}>\n                <Card.Body>\n                    <Card.Title>Title: {props.data.title}</Card.Title>\n                    <Card.Text>\n                        Description: {props.data.description}\n                    </Card.Text>\n                    <Card.Text>\n                        Topic: {props.data.topic}\n                    </Card.Text>\n                    <Card.Text>\n                        Solved: {solution}\n                    </Card.Text>\n                    <Card.Text>\n                        Date and Time: {formatTime(props.data.localDateTime)}\n                    </Card.Text>\n                    {props.data.status === true ? <Card.Text>\n                        Solution: {props.data.solution}\n                    </Card.Text> : \"\"}\n                </Card.Body>\n                <Card.Body>\n                    {props.data.status === false ? <><Button variant=\"primary\" onClick={handleEditClick}>Edit</Button>  </>: \"\"}\n                    {props.data.status === false ? <><Button variant=\"primary\" onClick={handleSolution}>Add Solution</Button>  </> : \"\"}\n                    <Button variant=\"primary\" onClick={handleShow}>Delete</Button>\n                </Card.Body>\n            </Card>\n            <Modal show={show} onHide={handleClose}>\n                <Modal.Header closeButton>Are you sure you want to delete this ticket?</Modal.Header>\n                <Modal.Body>\n                    <Button variant=\"primary\" onClick={deleteTicket}>\n                        Delete\n                    </Button>\n                </Modal.Body>\n            </Modal>\n        </>\n    );\n}\n\nexport default TicketTemplate;"]},"metadata":{},"sourceType":"module"}