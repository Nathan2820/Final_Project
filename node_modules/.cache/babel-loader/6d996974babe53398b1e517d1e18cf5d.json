{"ast":null,"code":"var _jsxFileName = \"/home/qa/Desktop/Cloud/week4/Final_Project/src/components/TraineeReg.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nconst TraineeReg = () => {\n  const [items, setItems] = useState([]);\n  const [error, setError] = useState(null);\n  const [forename, setForename] = useState([]);\n  const [surname, setSurname] = useState([]);\n  const [cohort, setCohort] = useState([]);\n  const history = useHistory();\n\n  const handleClick = click => {\n    console.log(cohort);\n    click.preventDefault();\n    axios.post(\"http://localhost:8080/addTrainee\", {\n      forename: forename,\n      surname: surname,\n      cohort: {\n        cohortId: cohort\n      }\n    }).then(function (response) {\n      if (response.status === 201) {\n        let data = response.data;\n        console.log(data);\n        localStorage.setItem(\"user\", JSON.stringify(data));\n        history.push({\n          pathname: \"/home\"\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  const handleForename = event => {\n    setForename(event.target.value);\n  };\n\n  const handleSurname = event => {\n    setSurname(event.target.value);\n  };\n\n  const handleCohort = event => {\n    setCohort(event.target.value);\n  };\n\n  useEffect(() => {\n    axios.get(\"http://localhost:8080/getAllCohorts\").then(res => res).then(res => {\n      setItems(res.data);\n    }, error => {\n      setError(error);\n    });\n  }, []);\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 16\n      }\n    }, \"Oops... something happened... \", error.message);\n  } else {\n    return /*#__PURE__*/React.createElement(Jumbotron, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, \"Who are you?\"), /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formForename\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }, \"Forename\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Enter Forename\",\n      onChange: handleForename,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formSurname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, \"Surname\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Enter Surname\",\n      onChange: handleSurname,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formCohort\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, \"Cohort\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      onChange: handleCohort.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      key: \"default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, \"Select Cohort\"), items.map(data => /*#__PURE__*/React.createElement(\"option\", {\n      key: data.cohortId,\n      value: data.cohortId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    }, data.name)))), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      onClick: handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, \"Submit\")));\n  }\n};\n\nexport default TraineeReg;","map":{"version":3,"sources":["/home/qa/Desktop/Cloud/week4/Final_Project/src/components/TraineeReg.jsx"],"names":["React","useState","useEffect","Jumbotron","Form","Button","axios","useHistory","TraineeReg","items","setItems","error","setError","forename","setForename","surname","setSurname","cohort","setCohort","history","handleClick","click","console","log","preventDefault","post","cohortId","then","response","status","data","localStorage","setItem","JSON","stringify","push","pathname","catch","handleForename","event","target","value","handleSurname","handleCohort","get","res","message","bind","map","name"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport axios from 'axios';\nimport {useHistory} from 'react-router-dom';\n\nconst TraineeReg = () => {\n    const [items, setItems] = useState([]);\n    const [error, setError] = useState(null);\n    const [forename, setForename] = useState([]);\n    const [surname, setSurname] = useState([]);\n    const [cohort, setCohort] = useState([]);\n    const history = useHistory();\n \n    const handleClick = (click) => {\n        console.log(cohort);\n        click.preventDefault();\n        axios.post(\"http://localhost:8080/addTrainee\", {\n            forename: forename,\n            surname: surname,\n            cohort: {\n                cohortId: cohort\n            }\n        })\n        .then(function (response) {\n            if(response.status === 201) {\n                let data = response.data;\n                console.log(data);\n                localStorage.setItem(\"user\",JSON.stringify(data));\n                history.push({\n                    pathname: \"/home\"\n                });\n            }\n        })\n        .catch(function (error) {\n            console.log(error);\n        }); \n    }\n\n    const handleForename = event => {\n        setForename(event.target.value);\n    }\n    \n    const handleSurname = event => {\n        setSurname(event.target.value);\n    }\n\n    const handleCohort = event => {\n        setCohort(event.target.value);\n    }\n\n    useEffect( () => {\n        axios.get(\"http://localhost:8080/getAllCohorts\")\n        .then(res => res)\n        .then(\n            (res) => {\n                setItems(res.data);\n            },\n            (error) => {\n                setError(error);\n            }\n        )\n    },[]);\n    if(error) {\n        return <div>Oops... something happened... {error.message}</div>\n    } else {\n        return (\n            <Jumbotron>\n                <h1>Who are you?</h1>\n                <Form>\n                    <Form.Group controlId=\"formForename\">\n                        <Form.Label>Forename</Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"Enter Forename\" onChange={handleForename}></Form.Control>\n                    </Form.Group>\n                    <Form.Group controlId=\"formSurname\">\n                        <Form.Label>Surname</Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"Enter Surname\" onChange={handleSurname}></Form.Control>\n                    </Form.Group>\n                    <Form.Group controlId=\"formCohort\">\n                        <Form.Label>Cohort</Form.Label>\n                        <Form.Control as=\"select\" onChange={handleCohort.bind(this)}>\n                            <option key=\"default\">Select Cohort</option>\n                            {items.map( (data) => (\n                                <option key={data.cohortId} value={data.cohortId}>{data.name}</option>\n                            ))}\n                        </Form.Control>\n                    </Form.Group>\n                    <Button variant=\"primary\" type=\"submit\" onClick={handleClick}>\n                        Submit\n                    </Button>\n                </Form>\n            </Jumbotron>\n        );\n    }\n\n}\n\nexport default TraineeReg;"]},"metadata":{},"sourceType":"module"}