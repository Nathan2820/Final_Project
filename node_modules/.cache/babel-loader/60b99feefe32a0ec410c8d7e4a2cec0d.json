{"ast":null,"code":"var _jsxFileName = \"/home/qa/Desktop/Cloud/week4/Final_Project/src/components/TrainerReg.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Button from 'react-bootstrap/Button';\nimport axios from 'axios';\n\nconst TrainerReg = () => {\n  const [trainers, setTrainers] = useState([]);\n  const [error, setError] = useState(null);\n  const history = useHistory();\n\n  const handleClick = trainer => {\n    console.log(trainer);\n    localStorage.setItem(\"user\", JSON.stringify(trainer));\n    history.push(\"/home\");\n  };\n\n  useEffect(() => {\n    axios.get(\"http://localhost:8080/getAllTrainers\").then(res => res).then(res => {\n      setTrainers(res.data);\n    }, error => {\n      setError(error);\n    });\n  }, []);\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 16\n      }\n    }, \"Oops... Something went wrong... \", error.message);\n  } else {\n    return /*#__PURE__*/React.createElement(Jumbotron, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }\n    }, trainers.map(trainer => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      onClick: () => handleClick(trainer),\n      key: trainer.trainerId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 23\n      }\n    }, trainer.forename, \" \", trainer.surname), \"  \")));\n  }\n};\n\nexport default TrainerReg;","map":{"version":3,"sources":["/home/qa/Desktop/Cloud/week4/Final_Project/src/components/TrainerReg.jsx"],"names":["React","useState","useEffect","useHistory","Jumbotron","Button","axios","TrainerReg","trainers","setTrainers","error","setError","history","handleClick","trainer","console","log","localStorage","setItem","JSON","stringify","push","get","then","res","data","message","map","trainerId","forename","surname"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,UAAU,GAAG,MAAM;AACrB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAMW,OAAO,GAAGT,UAAU,EAA1B;;AAEA,QAAMU,WAAW,GAAIC,OAAD,IAAa;AAC7BC,IAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACAG,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA4BC,IAAI,CAACC,SAAL,CAAeN,OAAf,CAA5B;AACAF,IAAAA,OAAO,CAACS,IAAR,CAAa,OAAb;AACH,GAJD;;AAMAnB,EAAAA,SAAS,CAAE,MAAM;AACbI,IAAAA,KAAK,CAACgB,GAAN,CAAU,sCAAV,EACCC,IADD,CACMC,GAAG,IAAIA,GADb,EAECD,IAFD,CAGKC,GAAD,IAAS;AACLf,MAAAA,WAAW,CAACe,GAAG,CAACC,IAAL,CAAX;AACH,KALL,EAMKf,KAAD,IAAW;AACPC,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACH,KARL;AAUH,GAXQ,EAWP,EAXO,CAAT;;AAYA,MAAIA,KAAJ,EAAW;AACP,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAAsCA,KAAK,CAACgB,OAA5C,CAAP;AACH,GAFD,MAEO;AACH,wBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKlB,QAAQ,CAACmB,GAAT,CAAcb,OAAO,iBAClB,uDAAE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,IAAI,EAAC,QAA/B;AAAwC,MAAA,OAAO,EAAE,MAAMD,WAAW,CAACC,OAAD,CAAlE;AAA6E,MAAA,GAAG,EAAEA,OAAO,CAACc,SAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGd,OAAO,CAACe,QADX,OACsBf,OAAO,CAACgB,OAD9B,CAAF,OADH,CADL,CADJ;AASH;AAEJ,CArCD;;AAuCA,eAAevB,UAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Button from 'react-bootstrap/Button';\nimport axios from 'axios';\n\nconst TrainerReg = () => {\n    const [trainers, setTrainers] = useState([]);\n    const [error, setError] = useState(null);\n    const history = useHistory();\n\n    const handleClick = (trainer) => {\n        console.log(trainer);\n        localStorage.setItem(\"user\",JSON.stringify(trainer));\n        history.push(\"/home\");\n    }\n    \n    useEffect( () => {\n        axios.get(\"http://localhost:8080/getAllTrainers\")\n        .then(res => res)\n        .then(\n            (res) => {\n                setTrainers(res.data);\n            },\n            (error) => {\n                setError(error);\n            }\n        )\n    },[]);\n    if (error) {\n        return <div>Oops... Something went wrong... {error.message}</div>\n    } else {\n        return (\n            <Jumbotron>\n                {trainers.map( trainer => (\n                    <><Button variant=\"primary\" type=\"submit\" onClick={() => handleClick(trainer)} key={trainer.trainerId}>\n                        {trainer.forename} {trainer.surname}\n                    </Button>  </>\n                ))}\n            </Jumbotron>\n        );\n    }\n\n}\n\nexport default TrainerReg;"]},"metadata":{},"sourceType":"module"}